<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Breakout | Neron's Hub</title>
    <style>
        :root { --sidebar-width: 260px; --accent: #6366f1; --bg: #f8fafc; --text: #1e293b; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; background: var(--bg); color: var(--text); display: flex; min-height: 100vh; }
        
        /* Sidebar Navigation */
        nav { width: var(--sidebar-width); background: #ffffff; border-right: 1px solid #e2e8f0; padding: 2.5rem; position: fixed; height: 100vh; }
        nav h2 { font-size: 0.85rem; text-transform: uppercase; color: #94a3b8; margin-bottom: 2rem; }
        nav ul { list-style: none; }
        nav li { margin-bottom: 1.2rem; }
        nav a { text-decoration: none; color: #64748b; font-weight: 600; transition: 0.2s; }
        nav a:hover { color: var(--accent); }

        /* Main Content */
        main { margin-left: var(--sidebar-width); flex-grow: 1; padding: 3rem; display: flex; flex-direction: column; align-items: center; }
        canvas { background: #000; border: 4px solid var(--accent); border-radius: 12px; box-shadow: 0 10px 25px rgba(0,0,0,0.2); }
        
        @media (max-width: 768px) {
            body { flex-direction: column; }
            nav { width: 100%; height: auto; position: relative; padding: 1.5rem; border-bottom: 1px solid #e2e8f0; }
            nav ul { display: flex; flex-wrap: wrap; gap: 15px; }
            main { margin-left: 0; padding: 1.5rem; }
        }
    </style>
</head>
<body>
    <nav>
        <h2>Navigation</h2>
        <ul>
            <li><a href="../index.html">Home</a></li>
            <li><a href="../games.html" style="color: var(--accent);">Arcade</a></li>
            <li><a href="../media.html">Media</a></li>
            <li><a href="../guestbook.html">Guestbook</a></li>
        </ul>
    </nav>

    <main>
        <h1 style="margin-bottom: 20px;">Breakout</h1>
        <canvas id="breakoutCanvas" width="480" height="320"></canvas>
        <p style="margin-top: 15px; color: #64748b;">Use Left/Right Arrows or A/D keys</p>
        <a href="../games.html" style="margin-top: 20px; color: var(--accent); text-decoration: none; font-weight: bold;">‚Üê Back to Arcade</a>
    </main>

    <script>
        const canvas = document.getElementById("breakoutCanvas");
        const ctx = canvas.getContext("2d");

        let ball = { x: 240, y: 290, dx: 3, dy: -3, r: 8 };
        let paddle = { h: 12, w: 85, x: (canvas.width - 85) / 2 };
        let rightPressed = false;
        let leftPressed = false;

        document.addEventListener("keydown", (e) => {
            if (e.key === "Right" || e.key === "ArrowRight" || e.key === "d") rightPressed = true;
            if (e.key === "Left" || e.key === "ArrowLeft" || e.key === "a") leftPressed = true;
        });

        document.addEventListener("keyup", (e) => {
            if (e.key === "Right" || e.key === "ArrowRight" || e.key === "d") rightPressed = false;
            if (e.key === "Left" || e.key === "ArrowLeft" || e.key === "a") leftPressed = false;
        });

        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Ball
            ctx.beginPath(); ctx.arc(ball.x, ball.y, ball.r, 0, Math.PI * 2);
            ctx.fillStyle = "#ffffff"; ctx.fill(); ctx.closePath();

            // Paddle
            ctx.beginPath(); ctx.roundRect(paddle.x, canvas.height - paddle.h - 5, paddle.w, paddle.h, 5);
            ctx.fillStyle = "#6366f1"; ctx.fill(); ctx.closePath();

            // Walls
            if (ball.x + ball.dx > canvas.width - ball.r || ball.x + ball.dx < ball.r) ball.dx = -ball.dx;
            if (ball.y + ball.dy < ball.r) ball.dy = -ball.dy;
            else if (ball.y + ball.dy > canvas.height - ball.r - 5) {
                if (ball.x > paddle.x && ball.x < paddle.x + paddle.w) {
                    ball.dy = -ball.dy;
                    ball.dy *= 1.05; // Make it slightly faster each hit
                } else {
                    alert("Game Over");
                    document.location.reload();
                    return;
                }
            }

            // Paddle Movement
            if (rightPressed && paddle.x < canvas.width - paddle.w) paddle.x += 7;
            if (leftPressed && paddle.x > 0) paddle.x -= 7;

            ball.x += ball.dx;
            ball.y += ball.dy;
            requestAnimationFrame(draw);
        }
        draw();
    </script>
</body>
</html>
